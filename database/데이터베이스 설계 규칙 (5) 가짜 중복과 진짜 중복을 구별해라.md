# 데이터베이스 설계 규칙 (5) 가짜 중복과 진짜 중복을 구별해라

---

### 1. 가짜 중복, 진짜 중복?

| id | 제목 | **내용** | **작성자** |
|----|----|--------|---------|
| 1  | 제목 | 내용     | 땃쥐      |
| 2  | 제목 | 내용     | 땃쥐      |
| 3  | 제목 | 내용     | 땃쥐      |

- 위 테이블에서 땃쥐 사용자가 3개의 글을 작성했다 가정하자.
- 겉으로 보면 제목, 내용, 작성자 칼럼 3곳에서 중복이 발생한 것처럼 보인다.
- **하지만 여기서 진짜 중복이 발생한 부분은 작성자 칼럼 뿐이다.**

---

### 2. 판단 기준
> **가짜 중복인지 진짜 중복인지 어떻게 판단할 수 있을까?**

가짜 중복인지 진짜 중복인지 판단하려면 이렇게 질문해보면 된다.  
**“실제 서비스에서 A 데이터의 값을 수정하면, B 데이터의 값도 같이 수정되어야 하는가?”**

---

### 3. 예시
**posts**

| id | 제목 | **내용** | **작성자** |
| --- | --- | --- | --- |
| 1 | 제목 | 내용 | 땃쥐 |
| 2 | 제목 | 내용 | 땃쥐 |
| 3 | 제목 | 내용 | 땃쥐 |

- 1번 게시글의 작성자 이름을 수정하면, 2번 게시글의 작성자 이름도 같이 수정되어야 하는가?
    - Yes ! 진짜 중복이다.
- 1번 게시글의 제목을 수정하면, 2번 게시글의 제목도 같이 수정되어야 하는가?
    - No ! 가짜 중복이다. 같은 제목으로 글을 여러번 올릴 수 있다.
- 1번 게시글의 내용을 수정하면, 2번 게시글의 내용도 같이 수정되어야 하는가?
    - No ! 가짜 중복이다. 같은 내용으로 글을 여러번 올릴 수 있다.

진짜 중복을 찾아냈다면 진짜 중복의 컬럼에 대해서만 테이블을 분리해야 한다.

**posts**

| id | 제목 | **내용** | **작성자(FK)** |
| --- | --- | --- | --- |
| 1 | 제목 | 내용 | 1 |
| 2 | 제목 | 내용 | 1 |
| 3 | 제목 | 내용 | 1 |

**users**

| id | 이름 |
| --- | --- |
| 1 | 땃쥐 |

---

### 4. 결론
- 가짜 중복이 발생한 컬럼은 테이블 분리를 하면 안 된다. 진짜 중복이 발생한 컬럼에 대해서만 테이블 분리를 해야 한다.

---
